<!DOCTYPE html>
<html>

<head>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="css/style.css" media="screen,projection" />
    <title>Age Calculator | Shuvo The Coder</title>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <div class="container valign-wrapper">
        <!-- Page Content goes here -->
        <div class="row">
            <div class="col s12 m6 offset-m3 ">
                <br>
                <div class="card z-depth-5">
                    <div class="card-image">
                        <img src="img.png">
                        <span class="card-title">Age Calculator</span>
                    </div>
                    <div class="card-content">
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="dob" type="text" class="datepicker">
                                <label for="dob">Date of Birth</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="td" type="text" class="datepicker">
                                <label for="td">Today's Date</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 center">
                                <button onclick="calculate()" class="btn waves-effect waves-light" type="submit"
                                    name="action">
                                    Calculate
                                    <i class="material-icons right">access_time</i>
                                </button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 center">
                                <ul id="display" class="collection with-header">
                                    
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="card-action center teal lighten-5">
                        Â© 2019 Copyright <a class="teal-text" href="https://shuvothecoder.com">Shuvo</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script>

        function calculate() {
            if ($('#dob').val() != '' && $('#td').val() != '') {
                let dob = new Date($('#dob').val());
                let td = new Date($('#td').val());

                // end - start returns difference in milliseconds 
                let diff = new Date(td - dob);

                // get days
                let days = Math.floor((diff / 1000 / 60 / 60 / 24) + 1);
                let weeks = Math.floor(days / 7);
                let months = Math.floor(days / 30);
                let years = Math.floor(days / 365);
                let yearmonth = Math.floor((days - (years * 365)) / 30);
                let yearday = Math.floor(days - (years * 365) - (yearmonth * 30));
                let hours = days * 24;
                let minutes = hours * 60;
                let seconds = hours * 60 * 60;

                $("#day").text(`${days} Days`);

                $("#display").html(`<li class="collection-header">
                                        <h5>${years} Years ${yearmonth} Months ${yearday} Days</h5>
                                    </li>
                                    <li class="collection-item">${months} Months</li>
                                    <li class="collection-item">${weeks} Weeks</li>
                                    <li class="collection-item">${days} Days</li>
                                    <li class="collection-item">${hours} Hours</li>
                                    <li class="collection-item">${minutes} Minutes</li>
                                    <li class="collection-item">${seconds} Seconds</li>`);

            }else{
                $("#display").html(`<li class="collection-header">
                                        <h5>Please Choose</h5>
                                    </li>
                                    <li class="collection-item">Date of Birth</li>
                                    <li class="collection-item">and</li>
                                    <li class="collection-item">Today's Date</li> `);
            }


        }

        $(document).ready(function () {
            $('.datepicker').datepicker({
                yearRange: [1950, 2050],
                changeMonth: true,
                changeYear: true,
            });
        });
    </script>
</body>

</html>